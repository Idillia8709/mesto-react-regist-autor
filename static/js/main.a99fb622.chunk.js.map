{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/Resolve.svg","images/Reject.svg","components/InfoTooltip.js","utils/api.js","utils/apiAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onLogout","userData","loggedIn","location","useLocation","useState","routePath","routeName","nav","setNav","useEffect","pathname","className","src","logo","alt","email","to","onClick","Footer","props","Date","getFullYear","CurrentUserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","avatar","about","map","card","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","setName","description","setDescription","event","preventDefault","value","onChange","target","id","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","DeletePlacePopup","Register","onRegister","onShowInfoTooltip","password","registerData","setRegisterData","setMessage","handleChange","clearForm","handleSubmit","catch","err","message","console","log","arguments","Login","onLogin","loginData","setLoginData","ProtectedRoute","Component","component","InfoTooltip","isRegistered","tooltip","logoResolve","logoReject","altText","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_parseResponse","data","body","JSON","stringify","cardId","authorization","apiAuth","statusText","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isCardPopupOpen","setIsCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setUserData","isInfoTooltip","setIsInfoTooltip","setIsRegistered","setLoggedIn","history","useHistory","closeAllPopups","jwt","localStorage","getItem","checkToken","push","tokenCheck","getUserInfo","getCardList","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","register","authorize","setItem","sendUserInfo","createCard","s","editUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a99fb622.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nexport default function Header({ onLogout, userData, loggedIn }) {\r\n  const location = useLocation();\r\n  const [nav, setNav] = useState({ routePath: \"/sign-in\", routeName: 'Войти' })\r\n\r\n  useEffect(() => {\r\n    (location.pathname === \"/sign-up\") ? setNav({ routePath: \"/sign-in\", routeName: 'Войти' }) : setNav({ routePath: \"/sign-up\", routeName: 'Регистрация' })\r\n  }, [location]);\r\n\r\n  return (\r\n    <header className=\"header header_position\">\r\n      <img\r\n        className=\"logo logo_position\"\r\n        src={logo}\r\n        alt='Логотип mesto Russia'\r\n      />\r\n      <ul className=\"header__nav\">\r\n        {userData.email === '' && <li className=\"header__nav-links\">\r\n          <Link to={nav.routePath} className=\"header__nav-link\">{nav.routeName}</Link>\r\n        </li>}\r\n        {loggedIn && <li className=\"header__nav-links\">\r\n          <Link to=\"/\" className=\"header__nav-link\">{userData.email}</Link>\r\n        </li>}\r\n        {loggedIn && <li className=\"header__nav-links\">\r\n          <Link to=\"/sign-in\" className=\"header__nav-link\" onClick={onLogout} >Выйти</Link>\r\n        </li>}\r\n      </ul>\r\n\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Footer(props) {\r\n  return (\r\n    <footer className=\"footer footer_position\">\r\n      <p\r\n        className=\"footer__copyright\">\r\n        &copy;\r\n        {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  )\r\n}","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card({ name, link, likes, owner, _id, onCardClick, onCardLike, onCardDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__button-delete ${isOwn ? 'element__button-delete_visible' : 'element__button-delete_hidden'}`);\r\n  const isLiked = likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (`element__button-like ${isLiked ? 'element__button-like_active_black' : ''}`);\r\n\r\n  function handleClick() {\r\n    onCardClick({ name, link })\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike({ name, link, likes, owner, _id });\r\n  }\r\n  function handleDeleteCardClick() {\r\n    onCardDeleteClick({ likes, _id, name, link, owner })\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button className=\"element__button-image\" type=\"button\" onClick={handleClick}>\r\n        <img className=\"element__image\"\r\n          src={link}\r\n          alt={name}\r\n        />\r\n      </button>\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{name}</h2>\r\n        <div className=\"element__like-counter\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleCardLike}>\r\n          </button>\r\n          <span className=\"element__number-of-like\">{likes.length}</span>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteCardClick}>\r\n        </button>\r\n      </div>\r\n    </li>\r\n  )\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete, onCardDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile profile_position\">\r\n        <div className=\"profile__overlay\" onClick={onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\r\n        </div>\r\n        <div className=\"profile__description\">\r\n          <div className=\"profile__edit\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button onClick={onEditProfile} type=\"button\" className=\"profile__button-edit\"></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={onAddPlace} type=\"button\" className=\"profile__button-add\"></button>\r\n      </section>\r\n      <section className=\"places places_position\">\r\n        <ul className=\"elements\">\r\n          {cards.map(card =>\r\n            <Card\r\n              key={card._id} {...card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDeleteClick={onCardDeleteClick}\r\n            />\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default function ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__image-container\">\r\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n        <h3 className=\"popup__paragraph\">{card.name}</h3>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__button-exit\"></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm({ name, title, isOpen, onClose, children, onSubmit}) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <form\r\n        className={`popup__container popup__container_form_${name}`}\r\n        onSubmit={onSubmit}\r\n        name={`popup-${name}`}\r\n        noValidate>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button type=\"submit\" className={`popup__button-form popup__button-form_save_${name}`}>Сохранить</button>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__button-exit\"></button>\r\n      </form>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionChacge(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={name || ''}\r\n          onChange={handleNameChange}\r\n          className=\" popup__input popup__input_title\"\r\n          name=\"input-title\"\r\n          id=\"input-title\"\r\n          placeholder=\"Имя\"\r\n          required minLength=\"2\"\r\n          maxLength=\"40\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span id=\"input-title-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={description || ''}\r\n          onChange={handleDescriptionChacge}\r\n          className=\"popup__input popup__input_subtitle\"\r\n          name=\"input-subtitle\"\r\n          id=\"input-subtitle\"\r\n          placeholder=\"О себе\"\r\n          required minLength=\"2\"\r\n          maxLength=\"200\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span id=\"input-subtitle-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          ref={avatarRef}\r\n          className=\" popup__input popup__input_url-avatar\"\r\n          name=\"input-url-avatar\"\r\n          id=\"input-avatar\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          required autoComplete=\"off\" />\r\n        <span id=\"input-avatar-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n\r\n}","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [namePlace, setNamePlace] = useState('');\r\n  const [linkPlace, setLinkPlace] = useState('');\r\n\r\n  function handleNamePlaceChange(event) {\r\n    setNamePlace(event.target.value);\r\n  }\r\n\r\n  function handleLinkPlaceChange(event) {\r\n    setLinkPlace(event.target.value);\r\n  }\r\n\r\n  function handleClear() {\r\n    setNamePlace('');\r\n    setLinkPlace('');\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onAddPlace({\r\n      name: namePlace,\r\n      link: linkPlace\r\n    });\r\n    handleClear();\r\n    \r\n\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          value={namePlace ||  ''}\r\n          onChange={handleNamePlaceChange}\r\n          className=\" popup__input popup__input_name\"\r\n          name=\"input-name\"\r\n          id=\"input-name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          autoComplete=\"off\" />\r\n        <span id=\"input-name-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          value={linkPlace || ''}\r\n          onChange={handleLinkPlaceChange}\r\n          className=\"popup__input popup__input_link\"\r\n          name=\"input-image-link\"\r\n          id=\"input-link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          autoComplete=\"off\" />\r\n        <span id=\"input-link-error\" className=\"popup__error popup__error_visible\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function DeletePlacePopup({ card, isOpen, onClose, onCardDelete }) {\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"deleteCard\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    />\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister, onShowInfoTooltip }) {\r\n  const [registerData, setRegisterData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [message, setMessage] = useState('');\r\n  console.log(arguments);\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setRegisterData({\r\n      ...registerData,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function clearForm() {\r\n    setRegisterData({\r\n      email: '',\r\n      password: '',\r\n    });\r\n    setMessage('');\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (!registerData.email || !registerData.password) {\r\n      onShowInfoTooltip();\r\n      return;\r\n    }\r\n    onRegister(registerData)\r\n    .catch(err => setMessage(err.message || 'Что-то пошло не так!'));\r\n    onShowInfoTooltip(); \r\n    clearForm();\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <form\r\n        className=\"register__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2 className=\"register__title\">Регистрация</h2>\r\n        <input\r\n          className=\"register__input\"\r\n          type=\"text\"\r\n          required\r\n          id=\"emain\"\r\n          name=\"email\"\r\n          value={registerData.email}\r\n          placeholder=\"Email\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className=\"register__input\"\r\n          type=\"password\"\r\n          required\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={registerData.password}\r\n          placeholder=\"Пароль\"\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className=\"register__button-submit\"\r\n          type=\"submit\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          Зарегистрироваться\r\n          </button>\r\n      </form>\r\n      <p className=\"register__link\">Уже зарегистрированы?\r\n      <Link className=\"register__signup\" to=\"/sign-up\">Войти</Link>\r\n      </p>\r\n    </div>\r\n\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [message, setMessage] = useState('');\r\n\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setLoginData({\r\n      ...loginData,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function clearForm() {\r\n    setLoginData({\r\n      email: '',\r\n      password: '',\r\n    });\r\n    setMessage('');\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    setMessage('');\r\n    event.preventDefault();\r\n    if (!loginData.email || !loginData.password) {\r\n      return;\r\n    }\r\n    onLogin(loginData)\r\n      .catch(err => setMessage(err.message || 'Что-то пошло не так!'));\r\n    clearForm();\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form\r\n        className=\"login__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          required\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={loginData.email}\r\n          placeholder=\"Email\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          required\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={loginData.password}\r\n          placeholder=\"Пароль\"\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className=\"login__button-submit\"\r\n          type=\"submit\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          Войти\r\n          </button>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n    {() =>\r\n      props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n    }\r\n  </Route>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/Resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Reject.df8eddf6.svg\";","import logoResolve from '../images/Resolve.svg';\r\nimport logoReject from '../images/Reject.svg';\r\nimport React from \"react\";\r\n\r\nexport default function InfoTooltip({ isOpen, onClose, isRegistered }) {\r\n  const logo = isRegistered ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.';\r\n  const tooltip = isRegistered ? logoResolve : logoReject;\r\n  const altText = isRegistered ? 'Успешная регистрация' : 'Что-то пошло не так';\r\n  return (\r\n    <div className={`popup popup_type_infotooltip ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"infoTooltip\">\r\n        <img\r\n          className=\"infoTooltip__logo\"\r\n          src={tooltip}\r\n          alt={altText}\r\n        />\r\n        <h3 className=\"infoTooltip__title\">\r\n          {logo}\r\n        </h3>\r\n        <button type=\"button\" onClick={onClose} className=\"infoTooltip__button-exit\"></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  _parseResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка со статус-кодом ${res.status}`));\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'GET',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  createCard(data) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n\r\n  }\r\n\r\n  deleteCard(_id) {\r\n    return fetch(`${this.url}/cards/${_id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  addCardLike(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  removeLikeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this.headers\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  sendUserInfo(data) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  editUserAvatar(data) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n}\r\n\r\nconst config = {\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n  headers: {\r\n\r\n    authorization: 'a2d12257-48f2-4074-bd6c-08a7c9602f41',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\nconst api = new Api(config);\r\nexport default api;\r\n","class ApiAuth {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  _parseResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка со статус-кодом ${res.status}: ${res.statusText}`));\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this.url}/signup`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({email, password})\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  authorize(email, password) {\r\n    return fetch(`${this.url}/signin`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({password, email})\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n\r\n  checkToken(token) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        ...this.headers,\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n      .then(res => this._parseResponse(res))\r\n  }\r\n}\r\n\r\nconst config = {\r\n  url: 'https://auth.nomoreparties.co',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nconst apiAuth = new ApiAuth(config);\r\nexport default apiAuth;","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePlacePopup from './DeletePlacePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport api from '../utils/api';\r\nimport apiAuth from '../utils/apiAuth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n  const [isRegistered, setIsRegistered] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n\r\n    tokenCheck();\r\n\r\n    api.getUserInfo()\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n\r\n    api.getCardList()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }, []);\r\n\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (!jwt) {\r\n      return\r\n    }\r\n    apiAuth.checkToken(jwt)\r\n      .then(({ email, password }) => {\r\n        setUserData({ email, password });\r\n        setLoggedIn(true);\r\n      })\r\n      .catch(() => { history.push('/sign-in') });\r\n  }\r\n\r\n  function handleLogin({email, password}) {\r\n    return apiAuth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        setUserData({ email, password });\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n        localStorage.setItem('jwt', res.token);\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n\r\n  function handleRegister({email, password}) {\r\n    return apiAuth\r\n    .register(email, password)\r\n      .then(() => {\r\n        setIsRegistered(true);\r\n        history.push('/sing-in');\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleLogOut() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    setUserData({\r\n      email: '',\r\n      password: '',\r\n    });\r\n    history.push('/sign-in');\r\n  }\r\n\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    const owner = card.owner._id === currentUser._id;\r\n    if (owner) {\r\n      api.deleteCard(card._id)\r\n        .then(() => {\r\n         setCards(cards => cards.filter(({ _id }) => _id !== card._id)) \r\n          closeAllPopups();\r\n        })\r\n        .catch(err => console.log('Ошибка:', err.message))\r\n    }\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.createCard(card)\r\n      .then(card => {\r\n        setCards([card, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsDeletePlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsCardPopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.sendUserInfo(data)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.editUserAvatar(data)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log('Ошибка:', err.message));\r\n  }\r\n\r\n  function handleShowInfoTooltip() {\r\n    setIsInfoTooltip(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsCardPopupOpen(false);\r\n    setIsDeletePlacePopupOpen(false);\r\n    setIsInfoTooltip(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header\r\n            loggedIn={loggedIn}\r\n            userData={userData}\r\n            onLogout={handleLogOut}\r\n          />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact path=\"/\"\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDeleteClick={handleDeleteCardClick}\r\n              cards={cards}\r\n            />\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onRegister={handleRegister}\r\n                onShowInfoTooltip={handleShowInfoTooltip}\r\n              />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login\r\n                onLogin={handleLogin}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen} s\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <DeletePlacePopup\r\n            card={selectedCard}\r\n            isOpen={isDeletePlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isOpen={isCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltip}\r\n            onClose={closeAllPopups}\r\n            isRegistered={isRegistered}\r\n          />\r\n\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider >\r\n\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}